(function(){"use strict";var e={5620:function(e,t,a){var s=a(9242),n=a(3396),o=a(7718),r=a(3140);function l(e,t,a,s,l,i){const u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(o.q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1})])),_:1})}var i={name:"App",data:()=>({})},u=a(89);const d=(0,u.Z)(i,[["render",l]]);var c=d,m=a(2483),f=a(702),p=a(1539);const h=(0,n._)("h1",null,"Welcome to Todofy",-1),w=(0,n._)("blockquote",{class:"blockquote text-center"},[(0,n._)("p",null,[(0,n.Uk)(" It's a simple application "),(0,n._)("br"),(0,n.Uk)(" that will help you manage your tasks. ")]),(0,n._)("p",null,"Log in or register if you don't have an account."),(0,n._)("p",null,"Enjoy :)")],-1),k={class:"d-flex justify-center"};function v(e,t,a,s,o,l){const i=(0,n.up)("NavBar"),u=(0,n.up)("v-flex");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),(0,n.Wm)(p.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r.O,{style:{"min-height":"300px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{xs12:"",class:"text-h1 text-center","mt-5":""},{default:(0,n.w5)((()=>[h])),_:1}),w])),_:1}),(0,n._)("div",k,[(0,n.Wm)(u,{class:"mt-1"},{default:(0,n.w5)((()=>[(0,n.Wm)(f.T,{class:"me-5",color:"teal-lighten-2",variant:"tonal",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Log in")])),_:1}),(0,n.Wm)(f.T,{variant:"tonal",color:"light-blue",to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Register")])),_:1})])),_:1})])])),_:1})],64)}var g=a(588),b=a(5030);function _(e,t,a,s,o,r){return(0,n.wg)(),(0,n.j4)(p.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g.L,{color:"blue-darken-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Todofy")])),_:1})])),_:1})])),_:1})}var y={name:"NavBar"};const T=(0,u.Z)(y,[["render",_]]);var W=T,U=(0,n.aZ)({name:"LandingPage",components:{NavBar:W}});const O=(0,u.Z)(U,[["render",v]]);var j=O,V=a(7771),R=a(6422),C=a(4286),Z=a(165);const L=(0,n._)("h1",{class:"text-center mt-4"},"Log in",-1),x={class:"d-flex align-center justify-center",style:{height:"50vh"}},q={class:"mt-2"},P={class:"text-body-2"};function S(e,t,a,o,r,l){const i=(0,n.up)("NavBar"),u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),L,(0,n._)("div",x,[(0,n.Wm)(C.C,{width:"400",class:"mx-auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(R.O,{ref:"form",onSubmit:(0,s.iM)(e.login,["prevent"])},{default:(0,n.w5)((()=>[e.alert?((0,n.wg)(),(0,n.j4)(V.w,{key:0,border:"bottom",class:"mb-2",color:"error"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Email or password is incorrect! ")])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),rules:e.emailRules,label:"Email",type:"email",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),rules:e.passwordRules,type:"password",class:"input-group--focused",label:"Password",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(f.T,{type:"submit",color:"blue-darken-4",block:"",class:"mt-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Log in")])),_:1})])),_:1},8,["onSubmit"]),(0,n._)("div",q,[(0,n._)("p",P,[(0,n.Uk)(" Don't have an account? "),(0,n.Wm)(u,{class:"routerLink",to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Click here")])),_:1})])])])),_:1})])],64)}var $=a(4677),E=a(4161);const N={baseURL:"http://localhost:3000/api",common:{Accept:"application/json"}};var A=(0,n.aZ)({name:"Login",components:{NavBar:W},mounted(){if("true"===this.$route.query.success){const e=(0,$.pm)();e.success("Your account has been created successfully. Now you can log in.",{position:"bottom-right",timeout:3e3})}},data(){return{valid:!0,email:"",emailRules:[e=>!!e||"Email is required",e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Must be valid email address"],password:"",passwordRules:[e=>!!e||"Password is required"],alert:!1}},methods:{validate(){this.$refs.form.validate()},async login(){this.validate();try{await E.Z.post(`${N.baseURL}/auth/login`,{email:this.email,password:this.password}),await this.$router.push("/home"),this.alert=!1}catch(e){console.log(e.response),this.alert=!0}}}});const D=(0,u.Z)(A,[["render",S]]);var B=D;const M=(0,n._)("h1",{class:"text-center"},"Register",-1),z={class:"d-flex align-center justify-center",style:{height:"60vh"}};function F(e,t,a,o,r,l){const i=(0,n.up)("NavBar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),M,(0,n._)("div",z,[(0,n.Wm)(C.C,{width:"400",class:"mx-auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(R.O,{onSubmit:(0,s.iM)(e.register,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),rules:e.usernameRules,label:"Username",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),rules:e.passwordRules,label:"Password",type:"password",required:""},null,8,["modelValue","rules"]),(0,n.Wm)(Z.h,{variant:"outlined",modelValue:e.passwordConfirm,"onUpdate:modelValue":t[3]||(t[3]=t=>e.passwordConfirm=t),rules:e.passwordRules,"error-messages":e.arePasswordsSame?"":"Passwords must match",label:"Confirm password",type:"password",required:""},null,8,["modelValue","rules","error-messages"]),(0,n.Wm)(f.T,{type:"submit",color:"blue-darken-4",block:"",class:"mt-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign Up")])),_:1})])),_:1},8,["onSubmit"])])),_:1})])],64)}var Y=(0,n.aZ)({name:"Register",components:{NavBar:W},data(){return{valid:!0,status:!1,success:!1,username:"",errors:[],usernameRules:[e=>!!e||"Username is required"],password:"",passwordConfirm:"",passwordRules:[e=>!!e||"Password is required"],email:"",passwordMismatch:!1,emailRules:[e=>!!e||"Email is required",e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Must be valid email address"]}},computed:{arePasswordsSame(){return this.password===this.passwordConfirm}},methods:{async register(){if(this.arePasswordsSame)try{const e=await E.Z.post(`${N.baseURL}/auth/register`,{username:this.username,email:this.email,password:this.password});201===e.status&&(this.success=!0,this.$router.push({path:"/login",query:{success:!0}})),console.log(e.data)}catch(e){console.error(e)}}}});const H=(0,u.Z)(Y,[["render",F]]);var K=H,I=a(7139),X=a(4013),G=a(6572),J=a(1888),Q=a(3849),ee=a(3289);const te=(0,n._)("h1",{class:"text-center mb-2"},"Tasks",-1);function ae(e,t,a,s,o,r){const l=(0,n.up)("NavBar"),i=(0,n.up)("TaskList"),u=(0,n.up)("TaskForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(l),(0,n._)("div",null,[te,(0,n.Wm)(f.T,{color:"teal-darken-1",class:"mb-2",style:{left:"50%",transform:"translateX(-50%)"},onClick:r.addTask},{default:(0,n.w5)((()=>[(0,n.Wm)(ee.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"]),(0,n.Wm)(i,{onEditTask:r.editTask},null,8,["onEditTask"]),(0,n.Wm)(Q.B,{modelValue:o.dialog,"onUpdate:modelValue":t[0]||(t[0]=e=>o.dialog=e),"max-width":"500px"},{default:(0,n.w5)((()=>[(0,n.Wm)(X._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(G.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,I.zw)(o.formTitle),1)])),_:1}),(0,n.Wm)(J.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{task:o.selectedTask,onFetchTasks:r.fetchTasks,onSubmit:r.closeDialog},null,8,["task","onFetchTasks","onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])],64)}var se=a(4413);const ne=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Name"),(0,n._)("th",null,"Description"),(0,n._)("th",null,"Status"),(0,n._)("th",null,"Actions")])],-1);function oe(e,t,a,s,o,r){return(0,n.wg)(),(0,n.j4)(p.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(se.Y,null,{default:(0,n.w5)((()=>[ne,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.tasks,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",{class:(0,I.C_)({completedT:e.completed})},(0,I.zw)(e.name),3),(0,n._)("td",{class:(0,I.C_)({completedT:e.completed})},(0,I.zw)(e.description),3),(0,n._)("td",{class:(0,I.C_)([e.completed?"completed":"not-completed"])},(0,I.zw)(e.completed?"Completed":"Uncompleted"),3),(0,n._)("td",null,[(0,n.Wm)(f.T,{color:"blue",class:"me-4",small:"",onClick:t=>r.editTask(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(ee.t,{small:"",class:"mr-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-pencil")])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(f.T,{color:"red",small:"",onClick:t=>r.deleteTask(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(ee.t,{small:""},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-delete")])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1})])])),_:1})}var re={name:"TaskList",data(){return{tasks:[]}},async created(){this.fetchTasks()},methods:{async fetchTasks(){try{const e=await E.Z.get(`${N.baseURL}/tasks/`);this.tasks=e.data}catch(e){console.error(e)}},editTask(e){this.$emit("edit-task",e)},async deleteTask(e){await E.Z["delete"](`${N.baseURL}/tasks/${e._id}`),await this.fetchTasks()}}};const le=(0,u.Z)(re,[["render",oe]]);var ie=le,ue=a(4842);function de(e,t,a,o,r,l){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(R.O,{ref:"form",onSubmit:(0,s.iM)(l.submitForm,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(Z.h,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),label:"Name",required:""},null,8,["modelValue"]),(0,n.Wm)(ue.z,{modelValue:r.description,"onUpdate:modelValue":t[1]||(t[1]=e=>r.description=e),label:"Description",required:""},null,8,["modelValue"]),(0,n.Wm)(f.T,{type:"submit",color:"teal-darken-1"},{default:(0,n.w5)((()=>[(0,n.Uk)("Save")])),_:1})])),_:1},8,["onSubmit"])])}var ce={name:"TaskForm",props:{task:Object},data(){return{name:"",description:"",completed:!1}},async created(){this.task&&(this.name=this.task.name,this.description=this.task.description,this.completed=this.task.completed,this.fetchTasks())},methods:{async fetchTasks(){await E.Z.get(`${N.baseURL}/tasks/`).then((e=>{this.tasks=e.data}))},async submitForm(){const e={name:this.name,description:this.description,completed:this.completed};try{this.task?await E.Z.put(`${N.baseURL}/tasks/${this.task._id}`,e):await E.Z.post(`${N.baseURL}/tasks/`,e),this.$emit("submit",e)}catch(t){console.log(t.response)}}}};const me=(0,u.Z)(ce,[["render",de]]);var fe=me,pe={name:"Home",components:{TaskList:ie,TaskForm:fe,NavBar:W},data(){return{dialog:!1,selectedTask:null,tasks:[],formTitle:""}},async created(){await this.fetchTasks()},methods:{async fetchTasks(){const e=await E.Z.get(`${N.baseURL}/tasks/`);this.tasks=e.data},addTask(){this.formTitle="Add task",this.selectedTask=null,this.dialog=!0},editTask(e){this.formTitle="Edit task",this.selectedTask=e,this.dialog=!0},closeDialog(){this.dialog=!1,this.selectedTask=null}}};const he=(0,u.Z)(pe,[["render",ae]]);var we=he;const ke=[{path:"/",name:"LandingPage",component:j},{path:"/login",name:"login",component:B},{path:"/register",name:"register",component:K},{path:"/home",name:"home",component:we}],ve=(0,m.p7)({history:(0,m.PO)("/"),routes:ke});var ge=ve,be=a(65),_e=(0,be.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),ye=(a(9773),a(8957)),Te=(0,ye.Rd)({theme:{defaultTheme:"light"}});async function We(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}We(),(0,s.ri)(c).use(ge).use(_e).use(Te,{icons:{iconfont:"mdi"}}).mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,o){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],o=e[d][2];for(var l=!0,i=0;i<s.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,o<r&&(r=o));if(l){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,n,o]}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var o=Object.create(null);a.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&s;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){r[e]=function(){return s[e]}}));return r["default"]=function(){return s},a.d(o,r),o}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.78e50dfb.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";a.l=function(s,n,o,r){if(e[s])e[s].push(n);else{var l,i;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==s||c.getAttribute("data-webpack")==t+o){l=c;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=s),e[s]=[n];var m=function(t,a){l.onerror=l.onload=null,clearTimeout(f);var n=e[s];if(delete e[s],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(a)})),t)return t(a)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,s){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var o=new Promise((function(a,s){n=e[t]=[a,s]}));s.push(n[2]=o);var r=a.p+a.u(t),l=new Error,i=function(s){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}};a.l(r,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,r=s[0],l=s[1],i=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var d=i(a)}for(t&&t(s);u<r.length;u++)o=r[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5620)}));s=a.O(s)})();
//# sourceMappingURL=app.f47068f1.js.map